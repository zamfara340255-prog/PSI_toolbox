# -*- coding: utf-8 -*-import tkinter as tkimport tkinter.ttk as ttkfrom ttkbootstrap import Stylefrom core.utils import tb# Импорт ваших модулейfrom modules.pfd_module import PowerFluxDensityModulefrom modules.s1p_module import S1PVSWRModulefrom modules.units_module import UnitConverterModuletry:    from modules.converter_module import ConverterModule    CONVERTER_AVAILABLE = Trueexcept ImportError:    CONVERTER_AVAILABLE = Falseclass EngineerToolboxApp:    def __init__(self, root):        self.root = root        self.root.title("Engineer Toolbox v2.0 Modular")        self.root.geometry("1200x800")                # Хранилище модулей (чтобы не сбрасывались данные)        self.modules = {}         self.current_module = None        self._build_layout()    def _build_layout(self):        # Основной контейнер        self.main_container = tb.Frame(self.root)        self.main_container.pack(fill="both", expand=True)        # --- БОКОВОЕ МЕНЮ ---        sidebar = tb.Frame(self.main_container, width=250, bootstyle="light")        sidebar.pack(side="left", fill="y")                tb.Label(sidebar, text="Инструменты", font=("Segoe UI", 12, "bold"), bootstyle="inverse-light")\            .pack(fill="x", ipady=10, padx=0)        # Список модулей        menu_items = [            ("Плотность потока (ППМ)", PowerFluxDensityModule),            ("Анализ S11 (КСВН)", S1PVSWRModule),            ("Конвертер единиц", UnitConverterModule),        ]                # Добавляем конвертер, если он есть        if CONVERTER_AVAILABLE:            menu_items.append(("Конвертер единиц", ConverterModule))        for name, module_cls in menu_items:            btn = tb.Button(                sidebar,                 text=name,                 command=lambda m=module_cls: self.show_module(m),                bootstyle="secondary-outline"            )            btn.pack(fill="x", padx=5, pady=2)        # --- ОБЛАСТЬ КОНТЕНТА ---        self.content_area = tb.Frame(self.main_container)        self.content_area.pack(side="right", fill="both", expand=True, padx=10, pady=10)        # Открываем первый модуль        if menu_items:            self.show_module(menu_items[0][1])    def show_module(self, module_cls):        # 1. Скрываем текущий        if self.current_module:            self.current_module.frame.pack_forget()        # 2. Создаем новый или достаем из памяти        if module_cls not in self.modules:            instance = module_cls(self)            instance.build_ui(self.content_area)            self.modules[module_cls] = instance                # 3. Показываем        self.current_module = self.modules[module_cls]        self.current_module.frame.pack(fill="both", expand=True)        # 4. Обновляем график (если есть такой метод), чтобы исправить глюки отрисовки        if hasattr(self.current_module, "update_plot"):            self.root.after(50, self.current_module.update_plot)    def set_result(self, text, status_text="", color="primary"):        # Метод-заглушка, так как панель сообщений удалена        pass if __name__ == "__main__":    root = tk.Tk()    style = Style(theme="flatly")     app = EngineerToolboxApp(root)    root.mainloop()